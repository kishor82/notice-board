import { createContext, useState, useContext } from "react";
import { useNavigate, useLocation } from "react-router-dom";

const fakeAuth = () =>
  new Promise((resolve) => {
    setTimeout(() => resolve("2342f2f1d131rf12"), 250);
  });

const AuthContext = createContext(null);

export const AuthProvider = ({ children }) => {
  const navigate = useNavigate();
  const location = useLocation();
  const [token, setToken] = useState(null);

  const companies = [
    "Gigashots",
    "Jabbercube",
    "Skynoodle",
    "Oodoo",
    "Wordtune",
    "Buzzshare",
    "Livepath",
    "Gabtune",
    "Eazzy",
    "Voomm",
    "Kwimbee",
    "Eabox",
    "Podcat",
    "LiveZ",
    "Wikizz",
    "Wordware",
    "Riffwire",
    "Twitterbridge",
    "Linklinks",
    "Skinte",
    "Twitterworks",
    "Teklist",
    "Oyoyo",
    "Tagpad",
    "Skaboo",
    "Dazzlesphere",
    "Nlounge",
    "Trilia",
    "Blogspan",
    "Vipe",
    "Kwinu",
    "Fanoodle",
    "Avamm",
    "Linktype",
    "Blogtag",
    "Photobug",
    "Digitube",
    "Tagcat",
    "Twiyo",
    "Livetube",
    "Pixope",
    "Ntags",
    "Jayo",
    "Topicstorm",
    "Quinu",
    "Katz",
    "Flashpoint",
    "Demivee",
    "Zoomlounge",
    "Thoughtblab",
    "Ailane",
    "Jabbersphere",
    "Jabberstorm",
    "Dynabox",
    "Edgeclub",
    "Mycat",
    "Meezzy",
    "Reallinks",
    "Jatri",
    "Quimm",
    "Tagopia",
    "Browsezoom",
    "Quire",
    "Npath",
    "Brainlounge",
    "Bluejam",
    "Skalith",
    "Dynazzy",
    "InnoZ",
    "Gigaclub",
    "Skyba",
    "Minyx",
    "Meejo",
    "Devbug",
    "Realbridge",
    "Skinix",
    "Yamia",
    "Skimia",
    "Voonder",
    "Talane",
    "Brainsphere",
    "Twinte",
    "JumpXS",
    "Flashspan",
    "Mynte",
    "Skinder",
    "Skipstorm",
    "Fliptune",
    "Youfeed",
    "Yabox",
    "Voonte",
    "Aivee",
    "Edgepulse",
    "Zoovu",
    "Oozz",
    "Plajo",
    "Yakitri",
    "Ooba",
    "DabZ",
    "Jaxworks",
    "Jaloo",
    "Oyope",
    "Izio",
    "Trudeo",
    "Einti",
    "Muxo",
    "Edgetag",
    "Tagtune",
    "Oyondu",
    "Kare",
    "Photojam",
    "BlogXS",
    "Zoozzy",
    "Brightbean",
    "Topiczoom",
    "Browseblab",
    "Leenti",
    "Feedspan",
    "Abata",
    "Brainverse",
    "Lazzy",
    "Fadeo",
    "Tagfeed",
    "Mudo",
    "Bubblebox",
    "Devify",
    "Vimbo",
    "Skyndu",
    "Dabfeed",
    "Quamba",
    "Browsebug",
    "Twimbo",
    "Yombu",
    "Jetwire",
    "Centidel",
    "Zoonder",
    "Jabberbean",
    "Voonix",
    "Tavu",
    "Topicware",
    "Fatz",
    "Skiptube",
    "Eadel",
    "Viva",
    "Fiveclub",
    "Gabspot",
    "Meeveo",
    "Flipbug",
    "Youspan",
    "Agivu",
    "Gigabox",
    "Realfire",
    "Yodel",
    "Mydeo",
    "Roodel",
    "Feedbug",
    "Brightdog",
    "Yotz",
    "Wikivu",
    "Yodo",
    "Latz",
    "Zooveo",
    "Blogpad",
    "Browsetype",
    "Mita",
    "Zoombox",
    "Thoughtbeat",
    "Yozio",
    "Skivee",
    "Geba",
    "Jaxbean",
    "Dabjam",
    "Janyx",
    "Flashdog",
    "Flipstorm",
    "Youopia",
    "Photofeed",
    "Youbridge",
    "Skibox",
    "Camimbo",
    "Rooxo",
    "Realbuzz",
    "Eire",
    "Trunyx",
    "Trudoo",
    "Zoomzone",
    "Zazio",
    "Photobean",
    "Tazzy",
    "Kazu",
    "Feedfish",
    "Layo",
    "Bluezoom",
    "Cogidoo",
    "Yacero",
    "Babblestorm",
    "Trilith",
    "Thoughtsphere",
    "Vitz",
    "Divape",
    "Yadel",
    "Realblab",
    "Twitterlist",
    "Voolith",
    "Rhynyx",
    "Lazz",
    "Chatterbridge",
    "Demizz",
    "Skilith",
    "Gabcube",
    "Wordify",
    "Meevee",
    "Wordpedia",
    "Abatz",
    "Tambee",
    "Buzzbean",
    "Oba",
    "Roomm",
    "Feedfire",
    "Shuffledrive",
    "Vinder",
    "Realpoint",
    "Vinte",
    "Thoughtstorm",
    "Eayo",
    "Meedoo",
    "Pixoboo",
    "Centizu",
    "Zoomdog",
    "Shufflester",
    "Shuffletag",
    "Omba",
    "Wikido",
    "Fivebridge",
    "Edgeblab",
    "Skyble",
    "Topdrive",
    "Kwideo",
    "Skajo",
    "Meemm",
    "Voonyx",
    "Twimm",
    "Topiclounge",
    "Oloo",
    "Bubbletube",
    "Agimba",
    "Feedmix",
    "Twitternation",
    "Photolist",
    "Flashset",
    "Skiba",
    "Youtags",
    "Camido",
    "Tekfly",
    "Gigazoom",
    "Rhycero",
    "Zoonoodle",
    "Skyvu",
    "Jamia",
    "Fivechat",
    "Zoomcast",
    "Centimia",
    "Quimba",
    "Rhyzio",
    "Plambee",
    "Thoughtworks",
    "Tagchat",
    "Rhybox",
    "Divavu",
    "Babbleset",
    "Divanoodle",
    "Rhyloo",
    "Zooxo",
    "Aimbo",
    "Avamba",
    "Meetz",
    "Blognation",
    "Yoveo",
    "Kazio",
    "Eare",
    "Feednation",
    "Gabtype",
    "Tanoodle",
    "Linkbuzz",
    "Ntag",
    "Mybuzz",
    "Kanoodle",
    "Yata",
    "Vidoo",
    "Brainbox",
    "Linkbridge",
    "Avaveo",
    "Aibox",
    "Skipfire",
    "Photospace",
    "Avavee",
    "Jazzy",
    "Dabtype",
    "Aimbu",
    "Edgeify",
    "Chatterpoint",
    "Ainyx",
    "Kayveo",
    "Oyonder",
    "Mydo",
    "Meembee",
    "Fivespan",
    "Riffpedia",
    "Jetpulse",
    "Midel",
    "Topicblab",
    "Realcube",
    "Gabvine",
    "Browsedrive",
    "Snaptags",
    "Cogilith",
    "Kimia",
    "Devshare",
    "Realmix",
    "Tazz",
    "Quaxo",
    "Pixonyx",
    "Buzzdog",
    "Innotype",
    "Eimbee",
    "Lajo",
    "Livefish",
    "Rhynoodle",
    "Blogtags",
    "Eamia",
    "Browsecat",
    "Jaxnation",
    "Voolia",
    "Oyoba",
    "Kamba",
    "Zava",
    "Shufflebeat",
    "Innojam",
    "Jabbertype",
    "Yambee",
    "Quatz",
    "Yakijo",
    "Babbleopia",
    "Gevee",
    "Miboo",
    "Eidel",
    "Trupe",
    "Kaymbo",
    "Buzzster",
    "Ozu",
  ];
  const departments = [
    "Training",
    "Legal",
    "Human Resources",
    "Services",
    "Product Management",
    "Business Development",
    "Sales",
    "Support",
    "Accounting",
    "Engineering",
    "Marketing",
    "Research and Development",
  ];
  const permission = {
    Admin: "All",
    User: "Read Only",
    "User/w": "Read/Write",
  };
  const roles = ["Admin", "User", "User/w"];

  const handleLogin = async () => {
    const token = await fakeAuth();
    setToken(token);
    const origin = location.state?.from?.pathname || "/dashboard";
    navigate(origin);
  };

  const handleLogout = () => {
    setToken(null);
  };

  const value = {
    token,
    companies,
    departments,
    permission,
    roles,
    onLogin: handleLogin,
    onLogout: handleLogout,
  };

  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;
};

export const useAuth = () => {
  return useContext(AuthContext);
};
